[gd_scene load_steps=37 format=3 uid="uid://bec1hoklibvtm"]

[ext_resource type="Script" path="res://world.gd" id="1_b8frq"]
[ext_resource type="PackedScene" uid="uid://rmhrq5qmmkuj" path="res://player.tscn" id="1_jfpvx"]
[ext_resource type="Script" path="res://tall_fence.gd" id="2_2s6gq"]
[ext_resource type="Script" path="res://tree.gd" id="2_l0eu8"]
[ext_resource type="ArrayMesh" uid="uid://uk78ifei1sl3" path="res://Obstacle Models/grill.obj" id="3_q5qvw"]
[ext_resource type="Script" path="res://trampoline.gd" id="4_268g1"]
[ext_resource type="Script" path="res://cat_checker_a.gd" id="4_xa23j"]
[ext_resource type="ArrayMesh" uid="uid://cao26f7x33a5j" path="res://Obstacle Models/shrubbery.obj" id="5_nkjyj"]
[ext_resource type="Script" path="res://shrubbery.gd" id="5_tkrkt"]
[ext_resource type="ArrayMesh" uid="uid://7ba1affe73ky" path="res://Obstacle Models/trampoline.obj" id="5_x2iex"]
[ext_resource type="Script" path="res://cat_spawner.gd" id="6_c0b2u"]
[ext_resource type="PackedScene" uid="uid://cq1632l237tc2" path="res://main_menu.tscn" id="6_ewqnf"]
[ext_resource type="Script" path="res://oob_catcher.gd" id="7_kxeyp"]
[ext_resource type="Script" path="res://level_data.gd" id="7_ml12b"]
[ext_resource type="PackedScene" uid="uid://dnx0lyo5wsmhn" path="res://cutscene.tscn" id="8_lp2vk"]
[ext_resource type="Script" path="res://cat_spawn_checker.gd" id="8_pcucf"]
[ext_resource type="PackedScene" uid="uid://dqnemnodd1c4w" path="res://pause_menu.tscn" id="13_ixj68"]
[ext_resource type="PackedScene" uid="uid://o05om0sdhr7i" path="res://option_menu.tscn" id="14_k2rpt"]
[ext_resource type="AudioStream" uid="uid://dnh1y83vklrxm" path="res://make_a_break_for_it.mp3" id="15_bm5av"]
[ext_resource type="AudioStream" uid="uid://dc40785yuvkbm" path="res://make_a_break_for_it_lofi_version.mp3" id="16_rfdqs"]
[ext_resource type="PackedScene" path="res://note_reader.tscn" id="16_tg7wx"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_2lxx6"]
albedo_color = Color(0.0352941, 1, 0.0745098, 1)

[sub_resource type="PlaneMesh" id="PlaneMesh_wldeh"]

[sub_resource type="BoxShape3D" id="BoxShape3D_pcqxp"]
size = Vector3(2.09713, 1.20752, 2.06055)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_070dd"]
metallic = 0.44

[sub_resource type="BoxMesh" id="BoxMesh_vxh1j"]

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_aohfv"]
data = PackedVector3Array(-0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, -0.5)

[sub_resource type="BoxShape3D" id="BoxShape3D_023i7"]
size = Vector3(0.892029, 0.0354614, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_f5oqg"]
size = Vector3(1.2547, 2.07553, 2.68005)

[sub_resource type="BoxShape3D" id="BoxShape3D_yr742"]
size = Vector3(1.36736, 2.13426, 2.89403)

[sub_resource type="CylinderShape3D" id="CylinderShape3D_i8etp"]
height = 0.777128
radius = 1.01032

[sub_resource type="CylinderShape3D" id="CylinderShape3D_isf5k"]
height = 0.235632
radius = 0.855971

[sub_resource type="Environment" id="Environment_sfw5c"]
background_mode = 1
background_color = Color(0.54902, 0.694118, 1, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_7aetu"]
size = Vector3(19.1675, 0.291351, 29.5411)

[sub_resource type="SphereShape3D" id="SphereShape3D_y6j6o"]

[sub_resource type="BoxShape3D" id="BoxShape3D_mq4f1"]
size = Vector3(1, 62.5316, 40)

[node name="World" type="Node3D"]
script = ExtResource("1_b8frq")

[node name="Environment" type="Node3D" parent="."]

[node name="Ground" type="MeshInstance3D" parent="Environment"]
transform = Transform3D(63.873, 0, 0, 0, 5.502, 0, 0, 0, 61.945, 0, 0, 0)
material_override = SubResource("StandardMaterial3D_2lxx6")
mesh = SubResource("PlaneMesh_wldeh")

[node name="StaticBody3D" type="StaticBody3D" parent="Environment/Ground"]
collision_mask = 7

[node name="CollisionShape3D" type="CollisionShape3D" parent="Environment/Ground/StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 0.999977, 0.0178044, -0.586059, -0.0239189)
shape = SubResource("BoxShape3D_pcqxp")

[node name="Fence" type="MeshInstance3D" parent="Environment"]
transform = Transform3D(0.5, 0, 0, 0, 1.5, 0, 0, 0, 30, 0, 0.5, -5)
material_override = SubResource("StandardMaterial3D_070dd")
mesh = SubResource("BoxMesh_vxh1j")

[node name="StaticBody3D" type="StaticBody3D" parent="Environment/Fence"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Environment/Fence/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_aohfv")

[node name="TallFence" type="MeshInstance3D" parent="Environment"]
transform = Transform3D(0.5, 0, 0, 0, 1.5, 0, 0, 0, 30, 0, 1.95205, -5)
visible = false
material_override = SubResource("StandardMaterial3D_070dd")
mesh = SubResource("BoxMesh_vxh1j")
script = ExtResource("2_2s6gq")

[node name="StaticBody3D" type="StaticBody3D" parent="Environment/TallFence"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Environment/TallFence/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_aohfv")
disabled = true

[node name="Area3D" type="Area3D" parent="Environment/TallFence"]
collision_layer = 8
collision_mask = 4

[node name="CollisionShape3D" type="CollisionShape3D" parent="Environment/TallFence/Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00765991, 0.50663, 0)
shape = SubResource("BoxShape3D_023i7")
disabled = true

[node name="Fence3" type="MeshInstance3D" parent="Environment"]
transform = Transform3D(0.5, 0, 0, 0, 1.5, 0, 0, 0, 30, -20, 0.5, -5)
material_override = SubResource("StandardMaterial3D_070dd")
mesh = SubResource("BoxMesh_vxh1j")

[node name="StaticBody3D" type="StaticBody3D" parent="Environment/Fence3"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Environment/Fence3/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_aohfv")

[node name="Fence2" type="MeshInstance3D" parent="Environment"]
transform = Transform3D(-2.18557e-08, 0, 20, 0, 1.5, 0, -0.5, 0, -8.74228e-07, -10, 0.5, -20)
material_override = SubResource("StandardMaterial3D_070dd")
mesh = SubResource("BoxMesh_vxh1j")

[node name="StaticBody3D" type="StaticBody3D" parent="Environment/Fence2"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Environment/Fence2/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_aohfv")

[node name="Fence4" type="MeshInstance3D" parent="Environment"]
transform = Transform3D(-2.18557e-08, 0, 20, 0, 1.5, 0, -0.5, 0, -8.74228e-07, 10, 0.5, -20)
material_override = SubResource("StandardMaterial3D_070dd")
mesh = SubResource("BoxMesh_vxh1j")

[node name="StaticBody3D" type="StaticBody3D" parent="Environment/Fence4"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Environment/Fence4/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_aohfv")

[node name="Fence5" type="MeshInstance3D" parent="Environment"]
transform = Transform3D(0.5, 0, 0, 0, 1.5, 0, 0, 0, 30, 20, 0.5, -5)
material_override = SubResource("StandardMaterial3D_070dd")
mesh = SubResource("BoxMesh_vxh1j")

[node name="StaticBody3D" type="StaticBody3D" parent="Environment/Fence5"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Environment/Fence5/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_aohfv")

[node name="Grill" type="MeshInstance3D" parent="Environment"]
transform = Transform3D(-0.453166, 0, 0.891426, 0, 1, 0, -0.891426, 0, -0.453166, 16.4734, 1.29767, -15.8112)
visible = false
mesh = ExtResource("3_q5qvw")
script = ExtResource("2_l0eu8")

[node name="StaticBody3D" type="StaticBody3D" parent="Environment/Grill"]
collision_mask = 6

[node name="CollisionShape3D" type="CollisionShape3D" parent="Environment/Grill/StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00452137, 0.103998, 0.0402031)
shape = SubResource("BoxShape3D_f5oqg")
disabled = true

[node name="Area3D" type="Area3D" parent="Environment/Grill"]
collision_layer = 8
collision_mask = 4

[node name="CollisionShape3D" type="CollisionShape3D" parent="Environment/Grill/Area3D"]
transform = Transform3D(1, 0, 0, 0, 0.999994, 0, 0, 0, 1, 0.0113659, 0.0794983, 0.203993)
shape = SubResource("BoxShape3D_yr742")
disabled = true

[node name="Shrubbery" type="MeshInstance3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -17.4715, 1.29767, -14.7038)
visible = false
mesh = ExtResource("5_nkjyj")
script = ExtResource("5_tkrkt")

[node name="StaticBody3D" type="StaticBody3D" parent="Environment/Shrubbery"]
collision_mask = 6

[node name="CollisionShape3D" type="CollisionShape3D" parent="Environment/Shrubbery/StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0126781, -0.244193, 0.0252562)
shape = SubResource("BoxShape3D_f5oqg")
disabled = true

[node name="Area3D" type="Area3D" parent="Environment/Shrubbery"]
collision_layer = 8
collision_mask = 4

[node name="CollisionShape3D" type="CollisionShape3D" parent="Environment/Shrubbery/Area3D"]
transform = Transform3D(1, 0, 0, 0, 0.999994, 0, 0, 0, 1, 0.00610924, -0.209784, 0.00206518)
shape = SubResource("BoxShape3D_yr742")
disabled = true

[node name="Trampoline" type="MeshInstance3D" parent="Environment"]
transform = Transform3D(1.53128, -1.00204, 0, 1.00204, 1.53128, 0, 0, 0, 1.83, 18.0611, 1.52916, -4.45876)
visible = false
mesh = ExtResource("5_x2iex")
script = ExtResource("4_268g1")

[node name="StaticBody3D" type="StaticBody3D" parent="Environment/Trampoline"]
collision_mask = 6

[node name="CollisionShape3D" type="CollisionShape3D" parent="Environment/Trampoline/StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.8871e-08, -0.336968, 0)
shape = SubResource("CylinderShape3D_i8etp")
disabled = true

[node name="Area3D" type="Area3D" parent="Environment/Trampoline"]
collision_layer = 8
collision_mask = 4

[node name="CollisionShape3D" type="CollisionShape3D" parent="Environment/Trampoline/Area3D"]
transform = Transform3D(1, 2.98023e-08, 0, -2.98023e-08, 1, 0, 0, 0, 1, -0.00138474, 0.0943446, 0.0109949)
shape = SubResource("CylinderShape3D_isf5k")
disabled = true

[node name="House" type="MeshInstance3D" parent="Environment"]
transform = Transform3D(20, 0, 0, 0, 10, 0, 0, 0, 10, -10, 5, 15)
material_override = SubResource("StandardMaterial3D_070dd")
mesh = SubResource("BoxMesh_vxh1j")

[node name="StaticBody3D" type="StaticBody3D" parent="Environment/House"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Environment/House/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_aohfv")

[node name="House2" type="MeshInstance3D" parent="Environment"]
transform = Transform3D(20, 0, 0, 0, 10, 0, 0, 0, 10, 10, 5, 15)
material_override = SubResource("StandardMaterial3D_070dd")
mesh = SubResource("BoxMesh_vxh1j")

[node name="StaticBody3D" type="StaticBody3D" parent="Environment/House2"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Environment/House2/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_aohfv")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_sfw5c")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="WorldEnvironment"]
transform = Transform3D(0.773696, 0.507434, -0.379347, 0, 0.598758, 0.80093, 0.633556, -0.619677, 0.463257, 0, 4, 0)
shadow_enabled = true

[node name="Player" parent="." instance=ExtResource("1_jfpvx")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.76998, 2.33752, 0)
collision_mask = 3

[node name="CatCheckerA" type="Area3D" parent="."]
collision_layer = 0
collision_mask = 4
script = ExtResource("4_xa23j")

[node name="CollisionShape3D" type="CollisionShape3D" parent="CatCheckerA"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10.04, 0.235519, -4.75)
shape = SubResource("BoxShape3D_7aetu")

[node name="CatCheckerB" type="Area3D" parent="."]
collision_layer = 0
collision_mask = 4
script = ExtResource("4_xa23j")

[node name="CollisionShape3D" type="CollisionShape3D" parent="CatCheckerB"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10.0415, 0.210388, -4.99558)
shape = SubResource("BoxShape3D_7aetu")

[node name="CatSpawner" type="Node3D" parent="."]
script = ExtResource("6_c0b2u")

[node name="CatSpawnChecker" type="Area3D" parent="CatSpawner"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 13.5672, 0)
collision_layer = 16
collision_mask = 15
script = ExtResource("8_pcucf")

[node name="CollisionShape3D" type="CollisionShape3D" parent="CatSpawner/CatSpawnChecker"]
shape = SubResource("SphereShape3D_y6j6o")

[node name="levelData" type="Node" parent="."]
script = ExtResource("7_ml12b")

[node name="PlayerSpawnerSideA" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.72096, 2.09987, -4.53716)

[node name="PlayerSpawnerSideB" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10.8152, 2.09987, -4.53716)

[node name="OOBCatcher" type="Area3D" parent="."]
collision_layer = 0
collision_mask = 4
script = ExtResource("7_kxeyp")

[node name="CollisionShape3D" type="CollisionShape3D" parent="OOBCatcher"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 20.8, 30.3894, -4.0202)
shape = SubResource("BoxShape3D_mq4f1")

[node name="CollisionShape3D3" type="CollisionShape3D" parent="OOBCatcher"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 0.263685, 30.3894, -21.0202)
shape = SubResource("BoxShape3D_mq4f1")

[node name="CollisionShape3D2" type="CollisionShape3D" parent="OOBCatcher"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -20.7, 30.3894, -4.0202)
shape = SubResource("BoxShape3D_mq4f1")

[node name="Cutscene" parent="." instance=ExtResource("8_lp2vk")]
visible = false

[node name="MainMenu" parent="." instance=ExtResource("6_ewqnf")]
process_mode = 3

[node name="PauseMenu" parent="." instance=ExtResource("13_ixj68")]
process_mode = 3

[node name="Options" parent="." instance=ExtResource("14_k2rpt")]
process_mode = 2

[node name="NoteReader" parent="." instance=ExtResource("16_tg7wx")]
process_mode = 2
layer = 10

[node name="MainSoundtrack" type="AudioStreamPlayer" parent="."]
stream = ExtResource("15_bm5av")
volume_db = -10.0
bus = &"Music"
parameters/looping = true

[node name="PauseSoundtrack" type="AudioStreamPlayer" parent="."]
stream = ExtResource("16_rfdqs")
volume_db = -10.0
bus = &"Music"
parameters/looping = true

[connection signal="start_cutscene" from="." to="Cutscene" method="start_cutscene"]
[connection signal="body_entered" from="Environment/TallFence/Area3D" to="Environment/TallFence" method="_on_area_3d_body_entered"]
[connection signal="body_entered" from="Environment/Grill/Area3D" to="Environment/Grill" method="_on_area_3d_body_entered"]
[connection signal="body_entered" from="Environment/Shrubbery/Area3D" to="Environment/Shrubbery" method="_on_area_3d_body_entered"]
[connection signal="body_entered" from="Environment/Trampoline/Area3D" to="Environment/Trampoline" method="_on_area_3d_body_entered"]
[connection signal="body_entered" from="CatCheckerA" to="CatCheckerA" method="_on_body_entered"]
[connection signal="body_exited" from="CatCheckerA" to="CatCheckerA" method="_on_body_exited"]
[connection signal="body_entered" from="CatCheckerB" to="CatCheckerB" method="_on_body_entered"]
[connection signal="body_exited" from="CatCheckerB" to="CatCheckerB" method="_on_body_exited"]
[connection signal="body_entered" from="CatSpawner/CatSpawnChecker" to="CatSpawner/CatSpawnChecker" method="_on_body_entered"]
[connection signal="body_entered" from="OOBCatcher" to="OOBCatcher" method="_on_body_entered"]
[connection signal="end_cutscene" from="Cutscene" to="." method="end_cutscene"]
[connection signal="open_options" from="MainMenu" to="." method="_on_main_menu_open_options"]
[connection signal="start" from="MainMenu" to="." method="start"]
[connection signal="open_options" from="PauseMenu" to="." method="_on_pause_menu_open_options"]
[connection signal="unpause" from="PauseMenu" to="." method="_on_pause_menu_unpause"]
[connection signal="apply_options" from="Options" to="." method="_on_options_apply_options"]
[connection signal="change_sensitivity" from="Options" to="Player" method="_on_options_change_sensitivity"]
[connection signal="first_note_finished" from="NoteReader" to="." method="_on_note_reader_first_note_finished"]
[connection signal="second_note_finished" from="NoteReader" to="." method="_on_note_reader_second_note_finished"]
